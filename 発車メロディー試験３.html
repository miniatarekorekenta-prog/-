

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>発車ベルシミュレーター</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-family: "Arial", sans-serif;
      background: linear-gradient(to bottom, #f0f0f0, #dcdcdc);
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
    }
    button {
      width: 120px;
      padding: 12px;
      margin: 10px 0;
      font-size: 1.2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }
    button:hover {
      transform: scale(1.05);
    }
    #onBtn {
      background: #4caf50;
      color: white;
    }
    #offBtn {
      background: #f44336;
      color: white;
    }
    select {
      margin: 8px 0;
      padding: 6px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1>発車ベル</h1>

  <!-- メロディー選択 -->
  <label for="melodySelect">メロディー選択：</label>
  <select id="melodySelect">
   <option value="(H1)首都圏12番　IKST-013-02＠上野.mp3">首都圏12番</option>
    <option value="kyusyu_sinkansen_basic_hassya.mp3">九州新幹線</option>
  </select>

  <!-- 放送選択 -->
  <label for="announceSelect">発車放送選択：</label>
  <select id="announceSelect">
    <option value="(H1)半自動ドア扱い放送＠平塚.mp3">半自動放送</option>
    <option value="announce2.mp3">✖</option>
    <option value="announce3.mp3">✖</option>
  </select>

  <!-- ボタン -->
  <button id="onBtn">ON</button>
  <button id="offBtn">OFF</button>

  <script>
    let melodyAudio = null;
    let announceAudio = null;

    const onBtn = document.getElementById("onBtn");
    const offBtn = document.getElementById("offBtn");

    onBtn.addEventListener("click", () => {
      const melodyFile = document.getElementById("melodySelect").value;
      if (melodyAudio) {
        melodyAudio.pause();
      }
      melodyAudio = new Audio(melodyFile);
      melodyAudio.loop = true;
      melodyAudio.play();
    });

    offBtn.addEventListener("click", () => {
      if (melodyAudio) {
        melodyAudio.pause();
        melodyAudio.currentTime = 0;
      }

      setTimeout(() => {
        const announceFile = document.getElementById("announceSelect").value;
        announceAudio = new Audio(announceFile);
        announceAudio.play();
      }, 1000); // 1秒後に発車放送
    });
  </script>
</body>
</html>
